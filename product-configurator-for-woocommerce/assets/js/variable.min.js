var PC=PC||{};PC.fe=PC.fe||{},(e=>{e(document).ready(function(){var a,i,t;e("body").is(".is_configurable")&&("undefined"!=typeof wc_add_to_cart_variation_params&&(PC.fe.product_type="variable",a=e(".variations_form"),a.on("hide_variation",function(a){e("body").removeClass("current-variation-is-configurable"),e("body").is(".enable-add-to-cart")||e(".variations_button").addClass("disabled"),e(".configure-product").hide(),e(".configure-product").attr("disabled","disabled"),PC.fe.close()}),a.on("show_variation",function(a,o){var o=(t=o).variation_id,r=e('input[name="product_id"]').val();e("input[name=pc_configurator_data]").val(""),PC.productData["prod_"+r]?i=PC.productData["prod_"+r]:PC.productData.product_info&&(i=PC.productData),i.product_info.variations&&i.product_info.variations[o]&&i.product_info.variations[o].is_configurable?(e("body").addClass("current-variation-is-configurable"),1==PC.fe.opened?(e("body").is(".enable-add-to-cart")||e(".variations_button").removeClass("disabled"),e(".configure-product").hide()):(e("body").is(".enable-add-to-cart")||e(".variations_button").addClass("disabled"),e(".configure-product").show(),e(".configure-product").prop("disabled",!1)),PC.fe.config.open_configurator&&e(".configure-product-variable").trigger("click")):(e("body").removeClass("current-variation-is-configurable"),e(".configure-product").hide(),e("body").is(".enable-add-to-cart")||e(".variations_button").removeClass("disabled"),e("body").is(".enable-add-to-cart")||e(".variations_button button").prop("disabled",!1))})),e(".configure-product-variable").on("click",function(a){PC.fe.config.current_language&&PC.utils&&PC.utils.add_language_filters&&(PC.fe.lang=PC.fe.config.current_language,PC.utils.add_language_filters(PC.fe.lang));var o=e('input[name="variation_id"]').val(),r=e('input[name="product_id"]').val();o&&r?PC.fe.open(o,r,e(a.target)):alert("No variation found...")}),wp.hooks.addAction("PC.fe.init","mkl/product_configurator",function(a){"variable"!=PC.fe.product_type&&"variation"!=PC.fe.product_type||(t?(PC.fe.currentProductData.product_info.price=t.display_price,PC.fe.currentProductData.product_info.regular_price=t.display_regular_price,PC.fe.currentProductData.product_info.is_on_sale=t.display_price<t.display_regular_price):i.product_info.variations[a].price&&(PC.fe.currentProductData.product_info.price=i.product_info.variations[a].price,PC.fe.currentProductData.product_info.regular_price=i.product_info.variations[a].regular_price,PC.fe.currentProductData.product_info.is_on_sale=i.product_info.variations[a].is_on_sale),i.product_info.mode&&"share_all_config"===i.product_info.mode?(PC.fe.contents=PC.fe.setContent.parse(i),PC.fe.modal.$el.trigger("content-is-loaded")):a&&0!=a?PC.fe.fetchContent(a):PC.fe.modal.$el.trigger("content-is-loaded","no-content"))},20))})})(jQuery);